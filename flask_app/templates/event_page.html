{% extends 'shared/layout.html' %}

{% block extrajs %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
<script>
  const eventId = "{{ event.event_id }}";
  const startDate = "{{ event.start_date }}";
  const endDate = "{{ event.end_date }}";
  const startTime = "{{ event.start_time }}";
  const endTime = "{{ event.end_time }}";
</script>
<script src="{{ url_for('static', filename='js/event.js') }}"></script>
{% endblock %}

{% block maincontent %}
<h1 class="event-avaliable">Event Availability</h1>
        
        <div class="event-details">
            <h2 class="event-naming">{{ event.name }}</h2>
          
            <p class="event-desc"><strong>Start Date:</strong> {{ event.start_date }}</p>
            <p class="event-desc"><strong>End Date:</strong> {{ event.end_date }}</p>
            <p class="event-desc"><strong>Daily Hours:</strong> {{ event.start_time }} to {{ event.end_time }}</p>
        </div>
        
        <div class="mode-selector">
            <div class="mode-btn available selected" data-mode="Available">Available</div>
            <div class="mode-btn maybe" data-mode="Maybe">Maybe</div>
            <div class="mode-btn unavailable" data-mode="Unavailable">Unavailable</div>
        </div>
  
  <div class="availability-grid" id="availabilityGrid">
      <!-- Headers will be generated by JavaScript -->
  </div>

  <div class="best-time-section" id="bestTimeToMeet">
    <h3>Best Time to Meet</h3>
    <p>Calculating best time...</p>
  </div>

  <div class="status-message" id="statusMessage">Your availability has been saved</div>
</div>

{% endblock %}
